# "For development purposes only" 워터마크 해결 가이드

## 문제 증상

- ✅ 테스트 페이지에서 "테스트 성공!" 표시
- ✅ 모든 단계가 성공적으로 완료됨
- ❌ 하지만 지도에 "Google 지도를 제대로 로드할 수 없습니다" 오류 표시
- ❌ "For development purposes only" 워터마크가 계속 표시됨

## 원인 분석

"For development purposes only" 워터마크는 다음 경우에 나타납니다:

1. **결제 계정이 제대로 연결되지 않음** (가장 흔한 원인)
2. **Maps JavaScript API가 완전히 활성화되지 않음**
3. **API 키가 올바른 프로젝트에 속하지 않음**
4. **API 키 제한 설정이 올바르지 않음**

## 해결 방법

### 1. 결제 계정 재확인 (가장 중요!)

무료 체험판 계정이라도 결제 수단이 **활성화**되어 있어야 합니다.

**확인 방법:**
1. [Google Cloud Console](https://console.cloud.google.com/) 접속
2. **"결제"** 메뉴로 이동
3. **"결제 계정"** 섹션 확인:
   - 결제 수단이 **"활성"** 상태인지 확인
   - 결제 수단이 등록되어 있어도 **"보류 중"** 또는 **"비활성"** 상태일 수 있음
4. 결제 수단 상태가 "활성"이 아니라면:
   - 결제 수단을 다시 확인하거나
   - 새로운 결제 수단을 추가

**중요**: 결제 수단이 등록되어 있어도 **활성화되지 않으면** 워터마크가 표시됩니다.

### 2. Maps JavaScript API 활성화 재확인

API가 실제로 활성화되어 있는지 다시 확인:

1. **"API 및 서비스" > "사용 설정된 API 및 서비스"** 메뉴로 이동
2. **"Maps JavaScript API"**가 목록에 있는지 확인
3. 없다면:
   - **"API 및 서비스" > "라이브러리"** 메뉴로 이동
   - **"Maps JavaScript API"** 검색
   - **"사용"** 버튼 클릭
   - **5-10분 대기** (활성화 시간)

### 3. API 키가 올바른 프로젝트에 속해 있는지 확인

1. **"API 및 서비스" > "사용자 인증 정보"** 메뉴로 이동
2. API 키 클릭
3. **"프로젝트"** 정보 확인:
   - 프로젝트 이름이 "onepiece"인지 확인
   - API 키가 이 프로젝트에서 생성되었는지 확인

### 4. API 키 제한 설정 재확인

1. **"API 및 서비스" > "사용자 인증 정보"** 메뉴로 이동
2. API 키 클릭
3. **"애플리케이션 제한사항"** 섹션:
   - **"HTTP 리퍼러(웹사이트)"** 선택 확인
   - 다음 URL이 **정확히** 입력되어 있는지 확인 (공백, 오타 없음):
     ```
     http://localhost:3000/*
     http://127.0.0.1:3000/*
     ```
   - 각 URL이 별도의 줄에 있는지 확인
4. **"API 제한사항"** 섹션:
   - **"키 제한"** 선택 확인
   - **"Maps JavaScript API"**가 체크되어 있는지 확인
5. **"저장"** 클릭
6. **5-10분 대기** (설정 적용 시간)

### 5. API 키 재생성 (최후의 수단)

위의 모든 방법을 시도해도 해결되지 않으면:

1. **"API 및 서비스" > "사용자 인증 정보"** 메뉴로 이동
2. 기존 API 키 옆의 **"사본 만들기"** 클릭 또는 새 API 키 생성
3. 새 API 키에 동일한 제한 설정 적용
4. `.env.local` 파일에 새 API 키 업데이트:
   ```env
   NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=새로운_API_키
   ```
5. 프론트엔드 서버 재시작
6. 브라우저 하드 리프레시 (Ctrl+Shift+R)

## 체크리스트

- [ ] 결제 수단이 **"활성"** 상태인지 확인 (가장 중요!) ⚠️
- [ ] Maps JavaScript API가 "사용 설정된 API 및 서비스" 목록에 있는지 확인
- [ ] API 키가 올바른 프로젝트("onepiece")에서 생성되었는지 확인
- [ ] API 키 제한 설정 재확인 (URL에 오타 없음)
- [ ] 설정 변경 후 5-10분 대기
- [ ] 브라우저 하드 리프레시
- [ ] 프론트엔드 서버 재시작
- [ ] API 키 재생성 (필요한 경우)

## 추가 확인 사항

### 결제 계정 상태 확인

Google Cloud Console에서:
1. **"결제" > "개요"** 메뉴로 이동
2. 결제 계정 상태 확인:
   - **"활성"**: 정상
   - **"보류 중"**: 결제 수단 확인 필요
   - **"비활성"**: 결제 수단 재등록 필요

### 프로젝트 상태 확인

1. Google Cloud Console 상단에서 프로젝트 선택
2. 프로젝트 상태가 **"활성"**인지 확인
3. 프로젝트가 일시 중지되지 않았는지 확인

## 예상 결과

위의 모든 항목을 확인하고 수정하면:
- ✅ "For development purposes only" 워터마크가 사라집니다
- ✅ "Google 지도를 제대로 로드할 수 없습니다" 오류가 해결됩니다
- ✅ 지도가 정상적으로 작동합니다

---

**가장 중요한 단계**: 결제 수단이 **"활성"** 상태인지 확인하세요!



